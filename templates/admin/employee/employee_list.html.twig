{% extends 'admin/layout.html.twig' %}

{% trans_default_domain 'admin' %}

{% block title %}
    {{ 'admin.titles.employees-list'|trans }}
{% endblock %}

{% block main_content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            {% for message in app.flashes('success')  %}
                <div class="alert alert-success">
                    {{ message }}
                </div>
            {% endfor %}
            {% for message in app.flashes('error')  %}
                <div class="alert alert-danger">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <h4 class="c-grey-900 mT-10 mB-30">{{ 'admin.titles.employees-list'|trans }}</h4>
        </div>
        <div class="col-md-6 text-sm-right">
            <a href="{{ path('admin_employee_new') }}" class="btn btn-success">
                <i class="pr-2 ti-plus"></i>{{ 'admin.links.new-account'|trans }}
            </a>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="bgc-white bd bdrs-3 p-20 mB-20">
                <table id="dataTable" class="table table-striped table-hover table-bordered" cellspacing="0" width="100%">
                    <thead class="thead-light">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">{{ 'admin.tables.firstname'|trans }}</th>
                        <th scope="col">{{ 'admin.tables.lastname'|trans }}</th>
                        <th scope="col">{{ 'admin.tables.email'|trans }}</th>
                        <th scope="col">{{ 'admin.tables.actions'|trans }}</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for employee in employees %}
                        <tr>
                            <th scope="row">{{ employee.id }}</th>
                            <td>{{ employee.firstName }}</td>
                            <td>{{ employee.lastName }}</td>
                            <td>{{ employee.email }}</td>

                            <td>
                                <a href="{{ path('admin_employee_show', {'id' : employee.id}) }}" class="btn btn-info">
                                    <i class="pr-2 ti-eye"></i>{{ 'admin.tables.view'|trans }}
                                </a>
                                <a href="{{ path('admin_employee_edit', {'id': employee.id}) }}" class="btn btn-success">
                                    <i class="pr-2 ti-pencil"></i>{{ 'admin.tables.edit'|trans }}
                                </a>
                                <a href="{{ path('admin_employee_delete', {'id' : employee.id}) }}" class="btn btn-danger"
                                   onclick="return confirm('Etes vous sûre de vouloir supprimer l\'employé(e) ?')">
                                    <i class="pr-2 ti-trash"></i>{{ 'admin.tables.delete'|trans }}
                                </a>
                            </td>

                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}

